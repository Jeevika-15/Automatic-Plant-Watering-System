from machine import ADC, Pin
from time import sleep

led = Pin(2, Pin.OUT)

# Initialize ADC on pin 34 (input from moisture sensor)
moisture = ADC(Pin(34))
moisture.atten(ADC.ATTN_11DB)    # Full 0–3.3V range
moisture.width(ADC.WIDTH_12BIT)  # 12-bit resolution (0–4095)

while True:
    value = moisture.read()
    print("Moisture Level:", value)
    sleep(1)

    if value > 3000:  
        led.off()
        print("LED OFF — Soil is dry")
    else:
        led.on()
        print("LED ON — Soil is wet")
